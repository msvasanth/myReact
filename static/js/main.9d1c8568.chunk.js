(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e){e.exports=[{internalName:"Keyphrases",displayName:"KEY PHRASES"},{internalName:"Locations",displayName:"LOCATIONS"},{internalName:"Organizations",displayName:"ORGANIZATIONS"},{internalName:"People",displayName:"PERSONS"}]},35:function(e,a,t){e.exports=t(65)},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(28),s=t.n(c),l=(t(40),t(31)),o=t(6),i=(t(41),t(42),t(43),t(7)),m=t(13),u=t(9),d=t(8),h=t(10),p=t(29),f=t.n(p),v=function(e){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(m.a)(a,null,[{key:"onclickFilters",value:function(e,a,t,n){document.getElementById(n);return"$filter="+a+"/any(p: p eq '"+e+"')&"}},{key:"showOrHideLoader",value:function(e){e?document.body.classList.add("loading-indicator"):document.body.classList.remove("loading-indicator")}}]),a}(r.a.Component);v.onSearchButtonClick=function(e,a){var t=a?e.target:e.target.offsetParent.children.item(0)||e.target.offsetParent.children.item[0];return""===(t.value||"").replace(/\s/g,"")?{value:"Enter valid Text to search",canSearch:!1}:{value:t.value,canSearch:!0}},v.onTagButtonClick=function(e,a){return"$filter="+a+"/any(p: p eq '"+(e.target?e.target.value:"")+"')&"},v.getResults=function(e,a){var t=this;return new Promise(function(n,r){f()({method:"GET",url:"https://azsrch-cognitivesearch.search.windows.net/indexes/azsearch-index/docs?api-version=2019-05-06&$count=true&facet=Keyphrases&facet=Locations&facet=Organizations&facet=People&highlight=content,merged_content&"+a+e,contentType:"application/json",async:!1,headers:{"api-key":"D5BF0358B93DEAC8C8C4979342386611"}}).then(function(e){console.log(e.data),n(e.data)}).catch(function(e){console.log(e),t.showOrHideLoader(!1),r()})})};var g=v;var E=function(e){return r.a.createElement("div",{className:"grid-container grid-container2"},r.a.createElement("header",{className:"header"}),r.a.createElement("main",{className:"main main2"},r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"checkbox",id:"trigger",className:"search__checkbox"}),r.a.createElement("label",{className:"search__label-init",htmlFor:"trigger"}),r.a.createElement("label",{className:"search__label-active",htmlFor:"trigger"}),r.a.createElement("div",{className:"search__border"}),r.a.createElement("input",{type:"text",className:"search__input",placeholder:"Search...",onKeyUp:function(a){return function(a){if(13===a.keyCode){var t=g.onSearchButtonClick(a,!0);t.canSearch?e.history.push("/search/"+t.value):alert(t.value)}}(a)}}),r.a.createElement("div",{className:"search__close"}))),r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer__copyright"},"\xa9 2019 SP COE"),r.a.createElement("div",{className:"footer__signature"},"Made with love by pure genius")))},y=t(34);var N=function(e){return r.a.createElement("div",{className:"menu-icon"},r.a.createElement("i",{className:"fa fa-bars"}))},k=function(e){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(h.a)(a,e),a}(r.a.Component);k.decodeBase64=function(e){var a,t,n,r={},c=0,s=0,l="",o=String.fromCharCode,i=e.length;for(a=0;a<64;a++)r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)]=a;for(t=0;t<i;t++)for(c=(c<<6)+r[e.charAt(t)],s+=6;s>=8;)((n=c>>>(s-=8)&255)||t<i-2)&&(l+=o(n));return l};var C=k;var b=function(e){var a=e.tags,t=e.iskeyPhrase?"tag tag-entities tag-keyphrases":"tag tag-entities",n=e.iskeyPhrase?"Keyphrases":"People";return r.a.createElement("p",null,a.slice(0,10).map(function(a,c){return r.a.createElement("button",{key:"tag"+c,className:t,value:a,onClick:function(a){return e.parentMethod(a,n)}},a)}))},_=function(e){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(m.a)(a,[{key:"onclickTitle",value:function(e,a){var t=C.decodeBase64(e);window.open(t,"_blank")}},{key:"isImageFile",value:function(e){var a=(e=(e||"").toLowerCase().trimEnd()).substring(e.lastIndexOf(".")+1);return["jpeg","jpg","gif","png","tiff","bmp","ppm","pgm","pbm","pnm","jfif"].indexOf(a)>-1}},{key:"renderFileContent",value:function(e,a){var t=this,n=a["@search.highlights"]||"";return n=n.merged_content||n.content||a.merged_content||a.content||"",this.isImageFile(a.metadata_storage_name)?r.a.createElement("div",{className:"imgParent"},r.a.createElement("div",{key:"MainDiv"+e,className:"fileContent",dangerouslySetInnerHTML:{__html:n}}),r.a.createElement("br",null),r.a.createElement("img",{key:"imgMain"+e,alt:"",onError:function(){t.src="../images/Pattern9.jpg"},className:"img-result",src:C.decodeBase64(a.metadata_storage_path)})):r.a.createElement("div",{key:"MainDiv"+e,className:"fileContent",dangerouslySetInnerHTML:{__html:n}})}},{key:"render",value:function(){var e=this,a=this.props.myContent,t=a.value||[];return r.a.createElement("div",{className:"main-cards"},r.a.createElement("h1",null,"Total search results : "+(a["@odata.count"]||0)),Object.keys(t).map(function(a){var n=t[a];return r.a.createElement("div",{className:"card",key:"card"+a},r.a.createElement("h4",{key:"h4"+a,onClick:function(a){return e.onclickTitle(n.metadata_storage_path,a)}},(n.metadata_storage_name||"").replace(/\.[^\/.]+$/,"").toUpperCase()),e.renderFileContent(a,n),r.a.createElement("div",{className:"tagContainer",key:"tagContainer-1"+a},r.a.createElement(b,{key:"imgTag"+a,iskeyPhrase:!1,tags:n.People,parentMethod:e.props.parentMethod}),r.a.createElement("div",{key:"tagContainer-2"+a},r.a.createElement(b,{key:"keyPhraseTag"+a,iskeyPhrase:!0,tags:n.Keyphrases,parentMethod:e.props.parentMethod}))))}))}}]),a}(r.a.Component),O=t(30);var w=function(e){var a=e.filterKey,t=(e.myContent["@search.facets"]||[])[a]||[];return r.a.createElement("div",{key:"extraDiv"+a,className:e.filterClass+" cd-filter-content"},t.map(function(t,n){return r.a.createElement("div",{className:n>9?"hideFilter ms-CheckBox":"ms-CheckBox",key:"ms-CheckBox_"+a+"_"+n},r.a.createElement("input",{key:"filterChk"+t.value,type:"checkbox",className:"ms-CheckBox-input"}),r.a.createElement("label",{id:(a||"")+"_"+t.value,key:"filterlbl"+t.value,className:"ms-CheckBox-field ",name:"checkboxa",onClick:function(n){return e.parentMethod(t.value,a,n,(a||"")+"_"+t.value)}},r.a.createElement("span",{className:"ms-Label",key:"filterSpan"+n},t.value||""),r.a.createElement("span",{className:"ms-Label lblCount"},"(",t.count||0,")")))}))};var x=function(e){return r.a.createElement("div",{id:"facet-nav",className:"cd-filter-block",key:"filterMaster"},O.map(function(a,t){return r.a.createElement("div",{className:"filter-list",id:"filterSection"+t,key:(a.internalName||"").toLowerCase()+"-facets"},r.a.createElement("h5",{className:0!==t?"facet-header closed":"facet-header",onClick:function(e){return function(e){var a=e.target.parentNode.lastChild;a.classList.contains("collapseFilter")?a.classList.remove("collapseFilter"):a.classList.add("collapseFilter"),e.target.classList.contains("closed")?e.target.classList.remove("closed"):e.target.classList.add("closed"),console.log(e)}(e)},key:"filter_"+a.internalName},(a.displayName||"").toUpperCase()),r.a.createElement(w,{filterKey:a.internalName,myContent:e.myContent,parentMethod:e.parentMethod,filterClass:0!==t?"collapseFilter":""}))}))};var L=function(e){var a=Object(n.useState)([]),t=Object(y.a)(a,2),c=t[0],s=t[1];Object(n.useEffect)(function(){var a=e.match.params.searchtxt||"";g.showOrHideLoader(!0),g.getResults("search="+a,"").then(function(e){s(e),g.showOrHideLoader(!1)})},[s]);var l=function(e){g.showOrHideLoader(!0);var a=g.onSearchButtonClick(e,!1);a.canSearch?o("search="+a.value,""):(g.showOrHideLoader(!1),alert(a.value))},o=function(e,a){g.getResults(e,a).then(function(e){s(e),g.showOrHideLoader(!1)})};return r.a.createElement("div",{className:"grid-container"},r.a.createElement(N,null),r.a.createElement("header",{className:"header"},r.a.createElement("a",{className:"goBackHome",onClick:function(a){e.history.push("/home/")}},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-home","aria-hidden":"true"})))),r.a.createElement("aside",{className:"sidenav"},r.a.createElement("div",{className:"searchBox"},r.a.createElement("input",{className:"searchInput",type:"text",onKeyUp:function(e){return function(e){13===e.keyCode&&l(e)}(e)},placeholder:"Search"}),r.a.createElement("button",{className:"searchButton",onClick:function(e){return l(e)}},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("div",{className:"sidenav__close-icon"},r.a.createElement("i",{className:"fa fa-times"})),r.a.createElement("ul",{className:"sidenav__list"},r.a.createElement(x,{myContent:c,parentMethod:function(a,t,n,r){g.showOrHideLoader(!0);var c=g.onclickFilters(a,t,n,r),s=document.getElementsByClassName("searchInput")[0].value||e.match.params.searchtxt||"";o(s,c)}}))),r.a.createElement("main",{className:"main"},r.a.createElement(_,{myContent:c,parentMethod:function(a,t){g.showOrHideLoader(!0);var n=g.onTagButtonClick(a,t),r=document.getElementsByClassName("searchInput")[0].value||e.match.params.searchtxt||"";o(r,n)}})),r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer__copyright"},"\xa9 2019 SP COE"),r.a.createElement("div",{className:"footer__signature"},"Made with love by pure genius")))};var j=function(){return r.a.createElement(l.a,{basename:"/"},r.a.createElement(o.b,{exact:!0,path:"/myReact/",render:function(){return r.a.createElement(o.a,{to:"/home"})}}),r.a.createElement(o.b,{exact:!0,path:"/home",component:E}),r.a.createElement(o.b,{path:"/search/:searchtxt",component:L}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.9d1c8568.chunk.js.map